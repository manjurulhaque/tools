<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Advanced QR Code Generator</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<!-- Bootstrap 5 CSS -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<style>
			body {
				background-color: #f8f9fa;
				padding-top: 4.5rem;
			}
			.navbar {
				position: fixed;
				top: 0;
				width: 100%;
				background: rgba(0, 0, 0, 0.4) !important;
				backdrop-filter: blur(10px);
				-webkit-backdrop-filter: blur(10px);
				border-bottom: 1px solid rgba(255, 255, 255, 0.3);
				z-index: 1000;
			}
			.navbar .navbar-brand {
				color: #fff !important;
				font-size: 1.75rem !important;
				font-weight: 600;
			}
			.navbar .nav-link,
			.navbar .dropdown-toggle {
				color: #fff !important;
			}
			.navbar .nav-link:hover {
				color: #ddd !important;
			}

			#qrcode {
				margin-top: 20px;
				display: flex;
				justify-content: center;
			}

			.footer {
				background: rgba(0, 0, 0, 0.8);
				color: #fff;
				text-align: center;
				padding: 2rem 1rem;
				margin-top: 4rem;
			}
			.footer a {
				color: #4b6cb7;
				text-decoration: none;
				margin: 0 0.5rem;
				transition: color 0.3s;
			}
			.footer a:hover {
				color: #82aaff;
			}
		</style>
	</head>
	<body>
		<!-- Navbar -->
		<nav class="navbar navbar-expand-lg navbar-dark">
			<div class="container">
				<a class="navbar-brand" href="#">MANJURUL</a>
				<button
					class="navbar-toggler"
					type="button"
					data-bs-toggle="collapse"
					data-bs-target="#navbarNav"
				>
					<span class="navbar-toggler-icon"></span>
				</button>
				<div
					class="collapse navbar-collapse justify-content-end"
					id="navbarNav"
				>
					<ul class="navbar-nav">
						<li class="nav-item">
							<a class="nav-link" href="index.html">Home</a>
						</li>
						<li class="nav-item dropdown">
							<a
								class="nav-link dropdown-toggle"
								href="#"
								id="toolsDropdown"
								role="button"
								data-bs-toggle="dropdown"
								>Tools</a
							>
							<ul
								class="dropdown-menu dropdown-menu-end"
								aria-labelledby="toolsDropdown"
							>
								<li>
									<a class="dropdown-item" href="#feature1">Image Tools</a>
								</li>
								<li><a class="dropdown-item" href="#feature2">PDF Tools</a></li>
								<li>
									<a class="dropdown-item" href="#feature3"
										>Data & Code Tools</a
									>
								</li>
							</ul>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="faqs.html">FAQs</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="contact.html">Contact</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>

		<!-- QR Code Generator Section -->
		<div class="container my-5">
			<div class="card shadow">
				<div class="card-body">
					<h2 class="text-center mb-4">Advanced QR Code Generator</h2>

					<div class="row g-3">
						<div class="col-md-12">
							<label for="text" class="form-label">Enter Text or URL</label>
							<input
								type="text"
								class="form-control"
								id="text"
								placeholder="https://example.com"
							/>
						</div>

						<div class="col-md-6">
							<label for="size" class="form-label">Size (px)</label>
							<input type="number" class="form-control" id="size" value="300" />
						</div>

						<div class="col-md-6">
							<label for="margin" class="form-label">Margin</label>
							<input
								type="number"
								class="form-control"
								id="margin"
								value="10"
							/>
						</div>

						<div class="col-md-6">
							<label for="dotColor" class="form-label">Dot Color</label>
							<input
								type="color"
								class="form-control form-control-color"
								id="dotColor"
								value="#000000"
							/>
						</div>

						<div class="col-md-6">
							<label for="bgColor" class="form-label">Background Color</label>
							<input
								type="color"
								class="form-control form-control-color"
								id="bgColor"
								value="#ffffff"
							/>
						</div>

						<div class="col-md-6">
							<label for="dotStyle" class="form-label">Dot Style</label>
							<select class="form-select" id="dotStyle">
								<option value="rounded">Rounded</option>
								<option value="dots">Dots</option>
								<option value="square">Square</option>
							</select>
						</div>

						<div class="col-md-6">
							<label for="errorCorrection" class="form-label"
								>Error Correction Level</label
							>
							<select class="form-select" id="errorCorrection">
								<option value="L">L - Low</option>
								<option value="M" selected>M - Medium</option>
								<option value="Q">Q - Quartile</option>
								<option value="H">H - High</option>
							</select>
						</div>

						<div class="col-md-12">
							<label for="logo" class="form-label"
								>Upload Logo (Optional)</label
							>
							<input
								type="file"
								class="form-control"
								id="logo"
								accept="image/*"
							/>
						</div>

						<div class="col-md-12">
							<label for="filename" class="form-label">Download Filename</label>
							<input
								type="text"
								class="form-control"
								id="filename"
								placeholder="qr-code"
							/>
						</div>
					</div>

					<div class="d-grid mt-4">
						<button class="btn btn-primary" id="generate-btn">
							Generate QR Code
						</button>
					</div>

					<div id="qrcode" class="my-4"></div>
					<div id="qr-preview" class="text-center text-muted small mb-3"></div>

					<div class="row">
						<div class="col-md-6 d-grid">
							<button
								class="btn btn-success"
								id="download-png"
								style="display: none"
							>
								Download PNG
							</button>
						</div>
						<div class="col-md-6 d-grid">
							<button
								class="btn btn-secondary"
								id="download-svg"
								style="display: none"
							>
								Download SVG
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Footer -->
		<footer class="footer">
			<div class="container">
				<p>&copy; 2025 Manjurul.com. All rights reserved.</p>
				<p>
					<a href="privacy-policy.html">Privacy Policy</a> |
					<a href="terms-of-service.html">Terms of Service</a> |
					<a href="cookie-policy.html">Cookie Policy</a>
				</p>
			</div>
		</footer>

		<!-- Bootstrap JS Bundle -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
		<!-- QR Code Styling Library -->
		<script src="https://unpkg.com/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>

		<!-- QR Code Logic -->
		<script>
			const qrCodeContainer = document.getElementById("qrcode");
			const generateBtn = document.getElementById("generate-btn");
			const downloadPngBtn = document.getElementById("download-png");
			const downloadSvgBtn = document.getElementById("download-svg");
			const preview = document.getElementById("qr-preview");

			let qrCode;

			generateBtn.addEventListener("click", () => {
				const text =
					document.getElementById("text").value.trim() || "https://example.com";
				const size = parseInt(document.getElementById("size").value);
				const margin = parseInt(document.getElementById("margin").value);
				const dotColor = document.getElementById("dotColor").value;
				const bgColor = document.getElementById("bgColor").value;
				const dotStyle = document.getElementById("dotStyle").value;
				const errorCorrection =
					document.getElementById("errorCorrection").value;
				const filename =
					document.getElementById("filename").value.trim() || "qr-code";
				const logoFile = document.getElementById("logo").files[0];

				if (isNaN(size) || size <= 0 || isNaN(margin) || margin < 0) {
					alert("Please enter valid positive numbers for size and margin.");
					return;
				}

				qrCodeContainer.innerHTML = "";
				preview.textContent = "";

				const options = {
					width: size,
					height: size,
					data: text,
					image: "",
					margin: margin,
					qrOptions: { errorCorrectionLevel: errorCorrection },
					dotsOptions: { color: dotColor, type: dotStyle },
					backgroundOptions: { color: bgColor },
					imageOptions: { crossOrigin: "anonymous", margin: 5 },
				};

				const generateQR = (opts) => {
					qrCode = new QRCodeStyling(opts);
					qrCode.append(qrCodeContainer);
					preview.innerHTML = `QR Code for: <code>${text}</code>`;
					downloadPngBtn.style.display = "block";
					downloadSvgBtn.style.display = "block";
					downloadPngBtn.onclick = () =>
						qrCode.download({ name: filename, extension: "png" });
					downloadSvgBtn.onclick = () =>
						qrCode.download({ name: filename, extension: "svg" });
				};

				if (logoFile) {
					const reader = new FileReader();
					reader.onload = function (e) {
						options.image = e.target.result;
						generateQR(options);
					};
					reader.readAsDataURL(logoFile);
				} else {
					generateQR(options);
				}
			});
		</script>
	</body>
</html>
