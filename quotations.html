<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Quotations</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
/* ================= DESIGN TOKENS ================= */
:root {
  --text-xs: 12px;
  --text-sm: 14px;
  --text-base: 16px;
  --text-md: 17px;
  --text-lg: 20px;
  --text-xl: 26px;

  --font-normal: 500;
  --font-bold: 700;
}

/* ================= BASE ================= */
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  font-size: var(--text-base);
  background: #f9fafb;
}

/* ================= NAV ================= */
nav {
  padding: 14px 18px;
  background: #111827;
  color: #fff;
  display: flex;
  align-items: center;
  gap: 14px;
  flex-wrap: wrap;
}

#nav-title {
  font-size: var(--text-lg);
  font-weight: var(--font-bold);
}

#nav-controls {
  margin-left: auto;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  align-items: center;
}

nav input,
nav select {
  padding: 6px 8px;
  border-radius: 6px;
  border: none;
  font-size: var(--text-sm);
}

#count {
  font-size: var(--text-sm);
  opacity: .85;
}

/* ================= HERO ================= */
#hero {
  background: linear-gradient(135deg, #111827, #1f2937);
  color: #fff;
  padding: 36px 20px 42px;
}

#hero-inner {
  max-width: 900px;
  margin: 0 auto;
}

#hero-label {
  font-size: var(--text-xs);
  letter-spacing: .08em;
  text-transform: uppercase;
  opacity: .7;
}

#hero-quote {
  font-size: var(--text-xl);
  line-height: 1.5;
  margin: 14px 0 18px;
  font-weight: var(--font-bold);
}

#hero-meta {
  display: flex;
  align-items: center;
  gap: 12px;
}

#hero-meta .spacer {
  flex: 1;
}

/* Category — normal */
#hero-category {
  background: none;
  border: none;
  color: #93c5fd;
  cursor: pointer;
  font-size: var(--text-sm);
  font-weight: var(--font-normal);
}

/* Author — bold + italic */
#hero-author {
  background: none;
  border: none;
  color: #93c5fd;
  cursor: pointer;
  font-size: var(--text-sm);
  font-style: italic;
  font-weight: var(--font-bold);
  text-align: right;
  position: relative;
}

#hero-author::before {
  content: "— ";
  font-style: normal;
  font-weight: var(--font-normal);
  opacity: 0.85;
}

/* ================= MAIN ================= */
main {
  max-width: 900px;
  margin: 0 auto;
  padding: 12px 20px 28px;
}

.card {
  position: relative;
  background: #fff;
  border-radius: 16px;
  padding: 20px 22px 18px;
  margin-bottom: 18px;
  border: 1px solid #e5e7eb;
  box-shadow: 0 8px 24px rgba(0,0,0,.04);
}

.card::before {
  content: "“";
  position: absolute;
  top: 10px;
  left: 14px;
  font-size: 48px;
  color: #e5e7eb;
}

.quote {
  font-size: var(--text-md);
  line-height: 1.65;
  padding-left: 18px;
}

.meta {
  margin-top: 16px;
  display: flex;
  gap: 10px;
  align-items: center;
}

/* Category — normal */
.category-pill {
  background: none;
  border: none;
  cursor: pointer;
  font-size: var(--text-xs);
  font-weight: var(--font-normal);
}

/* Author — bold + italic */
.author-chip {
  margin-left: auto;
  background: none;
  border: none;
  cursor: pointer;
  font-size: var(--text-sm);
  font-style: italic;
  font-weight: var(--font-bold);
  position: relative;
}

.author-chip::before {
  content: "— ";
  font-style: normal;
  font-weight: var(--font-normal);
  opacity: 0.85;
}

/* ================= PAGINATION ================= */
#pagination {
  display: flex;
  gap: 8px;
  justify-content: center;
  margin-bottom: 30px;
}

#pagination button {
  padding: 6px 10px;
  border-radius: 8px;
  border: 1px solid #e5e7eb;
  background: #fff;
  cursor: pointer;
  font-size: var(--text-sm);
}

#pagination button[disabled] {
  opacity: .5;
  cursor: default;
}

/* ================= MOBILE ================= */
@media (max-width: 640px) {
  #hero-quote {
    font-size: 22px;
  }
}
</style>
</head>

<body>

<nav>
  <div id="nav-title">Quotations</div>
  <div id="nav-controls">
    <input id="search" placeholder="Search…">
    <select id="category"><option value="">All categories</option></select>
    <select id="author"><option value="">All authors</option></select>
    <select id="sort">
      <option value="text">Sort: Quote (A–Z)</option>
      <option value="author">Sort: Author (A–Z)</option>
      <option value="category">Sort: Category (A–Z)</option>
    </select>
    <span id="count"></span>
  </div>
</nav>

<section id="hero">
  <div id="hero-inner">
    <div id="hero-label">Quote of the Day</div>
    <div id="hero-quote"></div>
    <div id="hero-meta">
      <button id="hero-category"></button>
      <span class="spacer"></span>
      <button id="hero-author"></button>
    </div>
  </div>
</section>

<main id="list"></main>
<nav id="pagination"></nav>

<script>
const items = [
  { text:"The happiness of your life depends upon the quality of your thoughts.", author:"Marcus Aurelius", category:"Wisdom" },
  { text:"Life is like riding a bicycle. To keep your balance you must keep moving.", author:"Albert Einstein", category:"Science" },
  { text:"That brain of mine is something more than merely mortal; as time will show.", author:"Ada Lovelace", category:"Technology" },
  { text:"We can only see a short distance ahead, but we can see plenty there that needs to be done.", author:"Alan Turing", category:"Technology" },
  { text:"It does not matter how slowly you go as long as you do not stop.", author:"Confucius", category:"Philosophy" }
];

const list = document.getElementById("list");
const pagination = document.getElementById("pagination");
const searchInput = document.getElementById("search");
const categorySelect = document.getElementById("category");
const authorSelect = document.getElementById("author");
const sortSelect = document.getElementById("sort");
const countSpan = document.getElementById("count");

const heroQuote = document.getElementById("hero-quote");
const heroAuthor = document.getElementById("hero-author");
const heroCategory = document.getElementById("hero-category");

const PAGE_SIZE = 3;
let currentPage = 1;

[...new Set(items.map(i => i.category))].forEach(c => categorySelect.add(new Option(c, c)));
[...new Set(items.map(i => i.author))].forEach(a => authorSelect.add(new Option(a, a)));

function todayKey() {
  return new Date().toISOString().slice(0,10);
}

function getQuoteOfTheDay() {
  const key = "qotd";
  const today = todayKey();
  const cached = JSON.parse(localStorage.getItem(key) || "{}");
  if (cached.date === today) return cached.quote;
  const index = [...today].reduce((a,c)=>a+c.charCodeAt(0),0) % items.length;
  const quote = items[index];
  localStorage.setItem(key, JSON.stringify({ date: today, quote }));
  return quote;
}

function renderHero() {
  const q = getQuoteOfTheDay();
  heroQuote.textContent = q.text;
  heroAuthor.textContent = q.author;
  heroCategory.textContent = q.category;
}

function render(filtered) {
  list.innerHTML = "";
  pagination.innerHTML = "";

  const totalPages = Math.ceil(filtered.length / PAGE_SIZE);
  currentPage = Math.min(currentPage, totalPages || 1);

  filtered.slice((currentPage - 1) * PAGE_SIZE, currentPage * PAGE_SIZE)
    .forEach(i => {
      const card = document.createElement("div");
      card.className = "card";
      card.innerHTML = `
        <div class="quote">${i.text}</div>
        <div class="meta">
          <button class="category-pill">${i.category}</button>
          <button class="author-chip">${i.author}</button>
        </div>
      `;
      list.appendChild(card);
    });

  countSpan.textContent = `${filtered.length} results`;
}

function applyFilters() {
  const term = searchInput.value.toLowerCase();
  let filtered = items.filter(i =>
    (!categorySelect.value || i.category === categorySelect.value) &&
    (!authorSelect.value || i.author === authorSelect.value) &&
    (!term || i.text.toLowerCase().includes(term))
  );
  filtered.sort((a,b)=>String(a[sortSelect.value]).localeCompare(String(b[sortSelect.value])));
  render(filtered);
}

searchInput.oninput = applyFilters;
categorySelect.onchange = applyFilters;
authorSelect.onchange = applyFilters;
sortSelect.onchange = applyFilters;

renderHero();
applyFilters();
</script>

</body>
</html>
