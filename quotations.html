<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Quotations</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <!-- ================= SEO ================= -->
  <meta name="description" content="A curated collection of thoughtful quotations.">
  <link rel="canonical" href="">

  <!-- ================= Open Graph ================= -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Quotations">
  <meta property="og:description" content="A curated collection of thoughtful quotations.">
  <meta property="og:url" content="">

  <!-- ================= Twitter ================= -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Quotations">
  <meta name="twitter:description" content="A curated collection of thoughtful quotations.">

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    crossorigin="anonymous"
  />
  <style>
    /* ================= DESIGN TOKENS ================= */
:root {
  --text-xs: 12px;
  --text-sm: 14px;
  --text-base: 16px;
  --text-md: 17px;
  --text-lg: 20px;
  --text-xl: 26px;

  --font-normal: 500;
  --font-bold: 700;
}

/* ================= BASE ================= */
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  font-size: var(--text-base);
  background: #f9fafb;
  color: #111827;
}

/* ================= ACCESSIBILITY ================= */
button:focus-visible,
select:focus-visible,
input:focus-visible {
  outline: 2px solid #6366f1;
  outline-offset: 2px;
}

/* ================= TOP NAV ================= */
nav:not(#pagination) {
  padding: 14px 18px;
  background: #111827;
  color: #fff;
  display: flex;
  align-items: center;
  gap: 14px;
  flex-wrap: wrap;
}

#nav-title {
  font-size: var(--text-lg);
  font-weight: var(--font-bold);
}

#nav-controls {
  margin-left: auto;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  align-items: center;
}

nav input,
nav select {
  padding: 6px 8px;
  border-radius: 6px;
  border: none;
  font-size: var(--text-sm);
}

#count {
  font-size: var(--text-sm);
  opacity: 0.85;
}

/* ================= HERO ================= */
#hero {
  position: relative;
  color: #fff;
  padding: 56px 20px 64px;
  overflow: hidden;
  background-size: 200% 200%;
  animation: hero-flow 20s ease infinite;
}

@keyframes hero-flow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

#hero::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    rgba(255,255,255,.03) 1px,
    transparent 1px
  );
  background-size: 100% 24px;
  pointer-events: none;
}

#hero-inner {
  max-width: 900px;
  margin: 0 auto;
  position: relative;
}

/* ================= TIME THEMES ================= */
body[data-time="morning"] #hero {
  background:
    radial-gradient(1000px 380px at 15% -10%, rgba(251,191,36,.25), transparent 60%),
    radial-gradient(700px 300px at 85% 15%, rgba(56,189,248,.18), transparent 55%),
    linear-gradient(135deg, #1e293b, #334155);
}

body[data-time="day"] #hero {
  background:
    radial-gradient(1200px 400px at 10% -10%, rgba(99,102,241,.18), transparent 60%),
    radial-gradient(800px 300px at 90% 10%, rgba(16,185,129,.12), transparent 55%),
    linear-gradient(135deg, #0f172a, #1f2937);
}

body[data-time="evening"] #hero {
  background:
    radial-gradient(1000px 420px at 10% -10%, rgba(251,146,60,.28), transparent 60%),
    radial-gradient(700px 300px at 90% 20%, rgba(244,114,182,.18), transparent 55%),
    linear-gradient(135deg, #1e1b4b, #312e81);
}

body[data-time="night"] #hero {
  background:
    radial-gradient(1200px 500px at 50% -20%, rgba(56,189,248,.12), transparent 60%),
    linear-gradient(135deg, #020617, #020617);
}

/* ================= HERO CARD ================= */
#hero-card {
  max-width: 760px;
  padding: 26px 28px 24px;
  border-radius: 20px;
  background: rgba(255,255,255,.08);
  backdrop-filter: blur(14px) saturate(140%);
  -webkit-backdrop-filter: blur(14px) saturate(140%);
  border: 1px solid rgba(255,255,255,.18);
  box-shadow:
    0 20px 40px rgba(0,0,0,.25),
    inset 0 1px 0 rgba(255,255,255,.12);
  animation: glass-in 360ms cubic-bezier(.4,0,.2,1);
}

@keyframes glass-in {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}

@supports not (backdrop-filter: blur(1px)) {
  #hero-card {
    background: rgba(31,41,55,.92);
  }
}

#hero-label {
  font-size: var(--text-xs);
  letter-spacing: .08em;
  text-transform: uppercase;
  opacity: .75;
  margin-bottom: 10px;
}

#hero-quote {
  font-size: var(--text-xl);
  line-height: 1.5;
  margin-bottom: 16px;
  font-weight: var(--font-bold);
  max-width: 720px;
  text-shadow: 0 2px 6px rgba(0,0,0,.35);
}

#hero-meta {
  display: flex;
  align-items: center;
  gap: 12px;
}

#hero-author,
#hero-category {
  background: none;
  border: none;
  cursor: pointer;
  color: inherit;
  position: relative;
}

#hero-author {
  font-weight: var(--font-bold);
  font-style: italic;
  font-size: var(--text-md);
}

#hero-author::before {
  content: "— ";
  opacity: .85;
}

/* ================= PAGE HEADER ================= */
#page-header {
  max-width: 900px;
  margin: 20px auto 10px;
  padding: 0 20px;
}

#page-title {
  font-size: var(--text-lg);
  font-weight: var(--font-bold);
}

#breadcrumbs {
  font-size: var(--text-xs);
  opacity: .75;
  display: flex;
  gap: 6px;
}

.breadcrumb {
  opacity: 0;
  transform: translateY(-4px);
  animation: crumb-in 220ms cubic-bezier(.4,0,.2,1) forwards;
}
.breadcrumb-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  gap: 8px;
  align-items: center;
  font-size: var(--text-xs);
  opacity: .8;
}

.breadcrumb-item {
  display: flex;
  align-items: center;
}

.breadcrumb-item + .breadcrumb-item::before {
  content: "/";
  margin-right: 8px;
  opacity: .6;
}

.breadcrumb-item button {
  background: none;
  border: none;
  cursor: pointer;
  font-size: inherit;
  color: inherit;
  padding: 0;
}

.breadcrumb-item button:hover {
  text-decoration: underline;
}

@keyframes crumb-in {
  to { opacity: 1; transform: translateY(0); }
}

/* ================= MAIN ================= */
main {
  max-width: 900px;
  margin: 0 auto;
  padding: 12px 20px 28px;
}

.card {
  position: relative;
  background: #fff;
  border-radius: 16px;
  padding: 20px 22px 18px;
  margin-bottom: 18px;
  border: 1px solid #e5e7eb;
  box-shadow: 0 8px 24px rgba(0,0,0,.04);
}

.card::before {
  content: "“";
  position: absolute;
  top: 10px;
  left: 14px;
  font-size: 48px;
  color: #e5e7eb;
}

blockquote.quote {
  font-size: var(--text-md);
  line-height: 1.65;
  padding-left: 18px;
  margin: 0;
}

.meta {
  margin-top: 16px;
  display: flex;
  gap: 10px;
  align-items: center;
}

/* ================= BUTTONS ================= */
.category-pill,
.author-chip {
  background: none;
  border: none;
  cursor: pointer;
  color: inherit;
  position: relative;
}

.category-pill { font-size: var(--text-xs); }

.author-chip {
  margin-left: auto;
  font-size: var(--text-sm);
  font-style: italic;
  font-weight: var(--font-bold);
}

.author-chip::before {
  content: "— ";
  opacity: .85;
}

/* ================= UNDERLINE HOVER ================= */
.category-pill::after,
.author-chip::after,
#hero-category::after,
#hero-author::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -2px;
  width: 100%;
  height: 1px;
  background: currentColor;
  transform: scaleX(0);
  transform-origin: left;
  transition: transform .22s cubic-bezier(.4,0,.2,1);
}

.category-pill:hover::after,
.author-chip:hover::after,
#hero-category:hover::after,
#hero-author:hover::after {
  transform: scaleX(1);
}

/* ================= PAGINATION ================= */
#pagination {
  display: flex;
  gap: 6px;
  justify-content: center;
  margin: 20px auto 30px;
}

#pagination button {
  min-width: 34px;
  height: 34px;
  padding: 0 12px;
  border-radius: 999px;
  border: 1px solid #e5e7eb;
  background: #fff;
  font-size: var(--text-sm);
  cursor: pointer;
  transition: background .18s, transform .12s;
}

#pagination button:not([disabled]):hover {
  background: #f3f4f6;
  transform: translateY(-1px);
}

#pagination button[disabled] {
  background: #111827;
  color: #fff;
  border-color: #111827;
}

/* ================= FOOTER ================= */
#footer {
  margin-top: 40px;
  background: #111827;
  color: #e5e7eb;
}

#footer-inner {
  max-width: 900px;
  margin: 0 auto;
  padding: 18px 20px;
  display: flex;
  gap: 14px;
  align-items: center;
  flex-wrap: wrap;
}

.footer-left {
  font-size: var(--text-sm);
  opacity: .85;
}

.footer-right {
  margin-left: auto;
}

.footer-link {
  background: none;
  border: none;
  color: inherit;
  font-size: var(--text-sm);
  cursor: pointer;
}

/* ================= MOBILE ================= */
@media (max-width: 640px) {
  #hero-quote {
    font-size: 22px;
  }
}

  </style>
</head>

<body>

<!-- ================= NAV ================= -->
<nav>
  <div id="nav-title">Manjurul</div>

  <div id="nav-controls">
    <input
      id="search"
      placeholder="Search…"
      aria-label="Search quotes"
    >

    <span id="count" aria-live="polite"></span>
  </div>
</nav>

<!-- ================= HERO ================= -->
<section id="hero">
<div id="hero-inner" class="d-flex justify-content-center">  
    <div id="hero-card">
      <div id="hero-label">Quote of the Day</div>

      <div id="hero-quote"></div>

      <div id="hero-meta">
        <button id="hero-category"></button>
          <div style="margin-left:auto"></div>
        <button id="hero-author"></button>
      </div>
    </div>
  </div>
</section>

<!-- ================= PAGE HEADER ================= -->
<header id="page-header">
  <div id="breadcrumbs"></div>
  <h1 id="page-title"></h1>
</header>

<!-- ================= MAIN ================= -->
<main id="list"></main>

<!-- ================= PAGINATION ================= -->
<nav id="pagination"></nav>

<!-- ================= FOOTER ================= -->
<footer id="footer">
  <div id="footer-inner">
    <div class="footer-left">
      <strong>Manjurul.com</strong>
      <span>© <span id="year"></span></span>
    </div>

    <div class="footer-right">
      <button
  class="footer-link"
  onclick="window.scrollTo({ top: 0, behavior: 'smooth' })"
>
  Back to top ↑
</button>
    </div>
  </div>
</footer>

<!-- Bootstrap JS (optional) -->
<script>
"use strict";

/* ================= DATA ================= */
const ITEMS = [
  { text:"The happiness of your life depends upon the quality of your thoughts.", author:"Marcus Aurelius", category:"Wisdom" },
  { text:"Life is like riding a bicycle. To keep your balance you must keep moving.", author:"Albert Einstein", category:"Science" },
  { text:"That brain of mine is something more than merely mortal; as time will show.", author:"Ada Lovelace", category:"Technology" },
  { text:"We can only see a short distance ahead, but we can see plenty there that needs to be done.", author:"Alan Turing", category:"Technology" },
  { text:"It does not matter how slowly you go as long as you do not stop.", author:"Confucius", category:"Philosophy" }
];

const PAGE_SIZE = 3;

/* ================= NORMALIZATION ================= */
function normalizeKey(str) {
  return str
    .toLowerCase()
    .normalize("NFKD")
    .replace(/[\u0300-\u036f]/g, "")
    .replace(/[^a-z0-9]+/g, "-")
    .replace(/^-+|-+$/g, "");
}

function normalizeSearch(str) {
  return str
    .toLowerCase()
    .normalize("NFKD")
    .replace(/[\u0300-\u036f]/g, "");
}

/* ================= STABLE ORDER ================= */
const SEED_KEY = "quotes-order-seed";
let SESSION_SEED = localStorage.getItem(SEED_KEY);
if (!SESSION_SEED) {
  SESSION_SEED = crypto.randomUUID();
  localStorage.setItem(SEED_KEY, SESSION_SEED);
}

function hash(str) {
  let h = 0;
  for (let i = 0; i < str.length; i++) {
    h = (h << 5) - h + str.charCodeAt(i);
    h |= 0;
  }
  return Math.abs(h);
}

const ITEMS_WITH_KEY = ITEMS.map(i => ({
  ...i,
  authorKey: normalizeKey(i.author),
  categoryKey: normalizeKey(i.category),
  _order: hash(SESSION_SEED + i.text + i.author + i.category),
  _textNorm: normalizeSearch(i.text),
  _authorNorm: normalizeSearch(i.author),
  _categoryNorm: normalizeSearch(i.category) // ✅ ADD
}));

/* ================= DOM ================= */
const $ = id => document.getElementById(id);
const dom = {
  list: $("list"),
  pagination: $("pagination"),
  search: $("search"),
  count: $("count"),
  hero: $("hero"),
  heroQuote: $("hero-quote"),
  heroAuthor: $("hero-author"),
  heroCategory: $("hero-category"),
  breadcrumbs: $("breadcrumbs"),
  title: $("page-title")
};

/* ================= URL STATE ================= */
const readURL = () => {
  const p = new URLSearchParams(location.search);
  return {
    search: p.get("search") || "",
    category: p.get("category") || "",
    author: p.get("author") || "",
    page: Math.max(1, +p.get("page") || 1)
  };
};

const writeURL = s => {
  const p = new URLSearchParams();
  if (s.search) p.set("search", s.search);
  if (s.category) p.set("category", s.category);
  if (s.author) p.set("author", s.author);
  if (s.page > 1) p.set("page", s.page);

  history.pushState(null, "", location.pathname + (p.toString() ? `?${p}` : ""));
};

let state = readURL();

/* ================= HELPERS ================= */
function dailyIndex(seed, max) {
  return seed.split("").reduce((a, c) => a + c.charCodeAt(0), 0) % max;
}

function labelFromKey(key, type) {
  const item = ITEMS_WITH_KEY.find(i =>
    type === "author" ? i.authorKey === key : i.categoryKey === key
  );
  return item ? (type === "author" ? item.author : item.category) : key;
}

/* ================= META & SEO ================= */
function updateMetaDescription(filtered) {
  let description = "A curated collection of thoughtful quotations.";

  if (state.author && state.category) {
    description = `Quotes by ${labelFromKey(state.author,"author")} about ${labelFromKey(state.category,"category")}.`;
  } else if (state.author) {
    description = `Quotes by ${labelFromKey(state.author,"author")}.`;
  } else if (state.category) {
    description = `Quotes about ${labelFromKey(state.category,"category")}.`;
  } else if (state.search) {
    description = `Search results for “${state.search}”.`;
  } else if (filtered.length) {
    description = filtered[0].text;
  }

  description = description.slice(0,155);
  document.querySelector('meta[name="description"]')
    ?.setAttribute("content", description);
}

function updateCanonical() {
  document.querySelector('link[rel="canonical"]')
    ?.setAttribute("href", location.origin + location.pathname + location.search);
}

function updateSocialMeta() {
  const title = document.title;
  const desc = document.querySelector('meta[name="description"]')?.content || "";

  document.querySelector('meta[property="og:title"]')?.setAttribute("content", title);
  document.querySelector('meta[property="og:description"]')?.setAttribute("content", desc);
  document.querySelector('meta[property="og:url"]')?.setAttribute("content", location.href);
}

function updateStructuredData(filtered) {
  const old = document.getElementById("quote-schema");
  if (old) old.remove();
  if (!filtered.length) return;

  const q = filtered[0];
  const s = document.createElement("script");
  s.type = "application/ld+json";
  s.id = "quote-schema";
  s.textContent = JSON.stringify({
    "@context": "https://schema.org",
    "@type": "Quotation",
    "text": q.text,
    "author": { "@type": "Person", "name": q.author }
  });
  document.head.appendChild(s);
}

/* ================= HERO ================= */
function renderHero() {
  const isHome = !state.search && !state.category && !state.author && state.page === 1;
  dom.hero.hidden = !isHome;
  if (!isHome) return;

  const today = new Date().toISOString().slice(0,10);
  const ordered = [...ITEMS_WITH_KEY].sort((a,b)=>a._order-b._order);
  const q = ordered[dailyIndex(today, ordered.length)];

  dom.heroQuote.textContent = q.text;
  dom.heroAuthor.textContent = q.author;
  dom.heroCategory.textContent = q.category;

  dom.heroAuthor.onclick = () => setState({ author:q.authorKey, page:1 });
  dom.heroCategory.onclick = () => setState({ category:q.categoryKey, page:1 });
}

/* ================= FILTER (MEMOIZED) ================= */
let _cacheKey = "", _cacheResult = [];

function selectFiltered() {
  const key = JSON.stringify([state.search, state.author, state.category]);
  if (key === _cacheKey) return _cacheResult;

  const t = normalizeSearch(state.search);
  _cacheKey = key;
  _cacheResult = ITEMS_WITH_KEY
    .filter(i =>
  (!state.category || i.categoryKey === state.category) &&
  (!state.author || i.authorKey === state.author) &&
  (
    !t ||
    i._textNorm.includes(t) ||
    i._authorNorm.includes(t) ||
    i._categoryNorm.includes(t)
  )
)

    .sort((a,b)=>a._order-b._order);

  return _cacheResult;
}

/* ================= HEADER ================= */
function renderHeader() {
  const a = state.author && labelFromKey(state.author,"author");
  const c = state.category && labelFromKey(state.category,"category");

  dom.title.textContent =
    a && c ? `Quotes by ${a} in ${c}` :
    a ? `Quotes by ${a}` :
    c ? `Quotes about ${c}` :
    state.search ? "Search results" :
    "All Quotations";

  dom.breadcrumbs.innerHTML = "";

  // Create semantic nav + list
  const nav = document.createElement("nav");
  nav.setAttribute("aria-label", "Breadcrumb");

  const ol = document.createElement("ol");
  ol.className = "breadcrumb-list";

  function addItem(label, isCurrent, onClick) {
    const li = document.createElement("li");
    li.className = "breadcrumb-item";

    if (isCurrent) {
      const span = document.createElement("span");
      span.textContent = label;
      span.setAttribute("aria-current", "page");
      li.appendChild(span);
    } else {
      const btn = document.createElement("button");
      btn.textContent = label;
      btn.onclick = onClick;
      li.appendChild(btn);
    }

    ol.appendChild(li);
  }

  // Home
  const isHome =
    !state.search && !state.category && !state.author;

  addItem("Home", isHome, () =>
    setState({ search:"", category:"", author:"", page:1 })
  );

  if (c) {
    addItem(
      c,
      !a,
      () => setState({ category:state.category, author:"", page:1 })
    );
  }

  if (a) {
    addItem(
      a,
      true,
      () => {}
    );
  }

  nav.appendChild(ol);
  dom.breadcrumbs.appendChild(nav);
}

/* ================= LIST ================= */
function renderList(items) {
  dom.list.innerHTML = "";
  const f = document.createDocumentFragment();

  items.forEach(i => {
    const card = document.createElement("article");
    card.className = "card";

    const q = document.createElement("blockquote");
    q.className = "quote";
    q.textContent = i.text;

    const m = document.createElement("div");
    m.className = "meta";

    const c = document.createElement("button");
    c.className = "category-pill";
    c.textContent = i.category;
    c.onclick = () => setState({ category:i.categoryKey, page:1 });

    const a = document.createElement("button");
    a.className = "author-chip";
    a.textContent = i.author;
    a.onclick = () => setState({ author:i.authorKey, page:1 });

    m.append(c,a);
    card.append(q,m);
    f.appendChild(card);
  });

  dom.list.appendChild(f);
}

/* ================= PAGINATION (UNCHANGED) ================= */
function renderPagination(total) {
  dom.pagination.innerHTML = "";
  const totalPages = Math.ceil(total / PAGE_SIZE);
  if (totalPages <= 1) return;

  const current = state.page;
  const windowSize = 2;
  const frag = document.createDocumentFragment();

  const makeButton = (label, page, active=false) => {
    const b = document.createElement("button");
    b.textContent = label;
    if (active) {
      b.disabled = true;
      b.setAttribute("aria-current", "page");
    }
    else b.onclick = () => setState({ page });
    return b;
  };

  const ellipsis = () => {
    const e = document.createElement("button");
    e.textContent = "…";
    e.disabled = true;
    return e;
  };

  if (current > 1) frag.append(makeButton("⏮",1), makeButton("‹",current-1));
  frag.append(makeButton("1",1,current===1));

  const start = Math.max(2,current-windowSize);
  const end = Math.min(totalPages-1,current+windowSize);

  if (start > 2) frag.append(ellipsis());
  for (let p=start;p<=end;p++) frag.append(makeButton(String(p),p,p===current));
  if (end < totalPages-1) frag.append(ellipsis());

  frag.append(makeButton(String(totalPages),totalPages,current===totalPages));
  if (current < totalPages) frag.append(makeButton("›",current+1), makeButton("⏭",totalPages));

  dom.pagination.appendChild(frag);
}

/* ================= APP ================= */
function renderApp() {
  const filtered = selectFiltered();

  if (!filtered.length) {
    renderHeader();
    dom.list.innerHTML = "<p>No quotes found.</p>";
    dom.pagination.innerHTML = "";
    dom.count.textContent = "0 results";
    document.title = "No results | Quotations";
    updateMetaDescription([]);
    updateCanonical();
    updateSocialMeta();
    return;
  }

  renderHeader();
  renderList(filtered.slice((state.page-1)*PAGE_SIZE, state.page*PAGE_SIZE));
  renderPagination(filtered.length);

  dom.count.textContent = `${filtered.length} results`;
  document.title =
    dom.title.textContent === "All Quotations"
      ? "Inspirational Quotations by Author & Topic"
      : `${dom.title.textContent} – Inspirational Quotations`;

  updateMetaDescription(filtered);
  updateCanonical();
  updateSocialMeta();
  updateStructuredData(filtered);
}

/* ================= STATE ================= */
function setState(patch) {
  state = { ...state, ...patch };
  if (dom.search.value !== state.search) dom.search.value = state.search;
  writeURL(state);
  renderHero();
  renderApp();
}

/* ================= INIT ================= */
let t;
dom.search.oninput = e => {
  clearTimeout(t);
  t = setTimeout(() => setState({ search:e.target.value, page:1 }),150);
};

window.addEventListener("popstate", () => {
  state = readURL();
  renderHero();
  renderApp();
});

/* ================= BOOT ================= */
renderHero();
renderApp();

requestIdleCallback(() => {
  const h = new Date().getHours();
  document.body.dataset.time =
    h<11?"morning":h<17?"day":h<20?"evening":"night";
  document.getElementById("year").textContent = new Date().getFullYear();
});
</script>
</body>
</html>