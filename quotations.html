<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Quotations</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    crossorigin="anonymous"
  />
  <style>
    /* ================= DESIGN TOKENS ================= */
:root {
  --text-xs: 12px;
  --text-sm: 14px;
  --text-base: 16px;
  --text-md: 17px;
  --text-lg: 20px;
  --text-xl: 26px;

  --font-normal: 500;
  --font-bold: 700;
}

/* ================= BASE ================= */
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  font-size: var(--text-base);
  background: #f9fafb;
  color: #111827;
}

/* ================= ACCESSIBILITY ================= */
button:focus-visible,
select:focus-visible,
input:focus-visible {
  outline: 2px solid #6366f1;
  outline-offset: 2px;
}

/* ================= TOP NAV ================= */
nav:not(#pagination) {
  padding: 14px 18px;
  background: #111827;
  color: #fff;
  display: flex;
  align-items: center;
  gap: 14px;
  flex-wrap: wrap;
}

#nav-title {
  font-size: var(--text-lg);
  font-weight: var(--font-bold);
}

#nav-controls {
  margin-left: auto;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  align-items: center;
}

nav input,
nav select {
  padding: 6px 8px;
  border-radius: 6px;
  border: none;
  font-size: var(--text-sm);
}

#count {
  font-size: var(--text-sm);
  opacity: 0.85;
}

/* ================= HERO ================= */
#hero {
  position: relative;
  color: #fff;
  padding: 56px 20px 64px;
  overflow: hidden;
  background-size: 200% 200%;
  animation: hero-flow 20s ease infinite;
}

@keyframes hero-flow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

#hero::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    rgba(255,255,255,.03) 1px,
    transparent 1px
  );
  background-size: 100% 24px;
  pointer-events: none;
}

#hero-inner {
  max-width: 900px;
  margin: 0 auto;
  position: relative;
}

/* ================= TIME THEMES ================= */
body[data-time="morning"] #hero {
  background:
    radial-gradient(1000px 380px at 15% -10%, rgba(251,191,36,.25), transparent 60%),
    radial-gradient(700px 300px at 85% 15%, rgba(56,189,248,.18), transparent 55%),
    linear-gradient(135deg, #1e293b, #334155);
}

body[data-time="day"] #hero {
  background:
    radial-gradient(1200px 400px at 10% -10%, rgba(99,102,241,.18), transparent 60%),
    radial-gradient(800px 300px at 90% 10%, rgba(16,185,129,.12), transparent 55%),
    linear-gradient(135deg, #0f172a, #1f2937);
}

body[data-time="evening"] #hero {
  background:
    radial-gradient(1000px 420px at 10% -10%, rgba(251,146,60,.28), transparent 60%),
    radial-gradient(700px 300px at 90% 20%, rgba(244,114,182,.18), transparent 55%),
    linear-gradient(135deg, #1e1b4b, #312e81);
}

body[data-time="night"] #hero {
  background:
    radial-gradient(1200px 500px at 50% -20%, rgba(56,189,248,.12), transparent 60%),
    linear-gradient(135deg, #020617, #020617);
}

/* ================= HERO CARD ================= */
#hero-card {
  max-width: 760px;
  padding: 26px 28px 24px;
  border-radius: 20px;
  background: rgba(255,255,255,.08);
  backdrop-filter: blur(14px) saturate(140%);
  -webkit-backdrop-filter: blur(14px) saturate(140%);
  border: 1px solid rgba(255,255,255,.18);
  box-shadow:
    0 20px 40px rgba(0,0,0,.25),
    inset 0 1px 0 rgba(255,255,255,.12);
  animation: glass-in 360ms cubic-bezier(.4,0,.2,1);
}

@keyframes glass-in {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}

@supports not (backdrop-filter: blur(1px)) {
  #hero-card {
    background: rgba(31,41,55,.92);
  }
}

#hero-label {
  font-size: var(--text-xs);
  letter-spacing: .08em;
  text-transform: uppercase;
  opacity: .75;
  margin-bottom: 10px;
}

#hero-quote {
  font-size: var(--text-xl);
  line-height: 1.5;
  margin-bottom: 16px;
  font-weight: var(--font-bold);
  max-width: 720px;
  text-shadow: 0 2px 6px rgba(0,0,0,.35);
}

#hero-meta {
  display: flex;
  align-items: center;
  gap: 12px;
}

#hero-author,
#hero-category {
  background: none;
  border: none;
  cursor: pointer;
  color: inherit;
  position: relative;
}

#hero-author {
  font-weight: var(--font-bold);
  font-style: italic;
  font-size: var(--text-md);
}

#hero-author::before {
  content: "— ";
  opacity: .85;
}

/* ================= PAGE HEADER ================= */
#page-header {
  max-width: 900px;
  margin: 20px auto 10px;
  padding: 0 20px;
}

#page-title {
  font-size: var(--text-lg);
  font-weight: var(--font-bold);
}

#breadcrumbs {
  font-size: var(--text-xs);
  opacity: .75;
  display: flex;
  gap: 6px;
}

.breadcrumb {
  opacity: 0;
  transform: translateY(-4px);
  animation: crumb-in 220ms cubic-bezier(.4,0,.2,1) forwards;
}

@keyframes crumb-in {
  to { opacity: 1; transform: translateY(0); }
}

/* ================= MAIN ================= */
main {
  max-width: 900px;
  margin: 0 auto;
  padding: 12px 20px 28px;
}

.card {
  position: relative;
  background: #fff;
  border-radius: 16px;
  padding: 20px 22px 18px;
  margin-bottom: 18px;
  border: 1px solid #e5e7eb;
  box-shadow: 0 8px 24px rgba(0,0,0,.04);
}

.card::before {
  content: "“";
  position: absolute;
  top: 10px;
  left: 14px;
  font-size: 48px;
  color: #e5e7eb;
}

blockquote.quote {
  font-size: var(--text-md);
  line-height: 1.65;
  padding-left: 18px;
  margin: 0;
}

.meta {
  margin-top: 16px;
  display: flex;
  gap: 10px;
  align-items: center;
}

/* ================= BUTTONS ================= */
.category-pill,
.author-chip {
  background: none;
  border: none;
  cursor: pointer;
  color: inherit;
  position: relative;
}

.category-pill { font-size: var(--text-xs); }

.author-chip {
  margin-left: auto;
  font-size: var(--text-sm);
  font-style: italic;
  font-weight: var(--font-bold);
}

.author-chip::before {
  content: "— ";
  opacity: .85;
}

/* ================= UNDERLINE HOVER ================= */
.category-pill::after,
.author-chip::after,
#hero-category::after,
#hero-author::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -2px;
  width: 100%;
  height: 1px;
  background: currentColor;
  transform: scaleX(0);
  transform-origin: left;
  transition: transform .22s cubic-bezier(.4,0,.2,1);
}

.category-pill:hover::after,
.author-chip:hover::after,
#hero-category:hover::after,
#hero-author:hover::after {
  transform: scaleX(1);
}

/* ================= PAGINATION ================= */
#pagination {
  display: flex;
  gap: 6px;
  justify-content: center;
  margin: 20px auto 30px;
}

#pagination button {
  min-width: 34px;
  height: 34px;
  padding: 0 12px;
  border-radius: 999px;
  border: 1px solid #e5e7eb;
  background: #fff;
  font-size: var(--text-sm);
  cursor: pointer;
  transition: background .18s, transform .12s;
}

#pagination button:not([disabled]):hover {
  background: #f3f4f6;
  transform: translateY(-1px);
}

#pagination button[disabled] {
  background: #111827;
  color: #fff;
  border-color: #111827;
}

/* ================= FOOTER ================= */
#footer {
  margin-top: 40px;
  background: #111827;
  color: #e5e7eb;
}

#footer-inner {
  max-width: 900px;
  margin: 0 auto;
  padding: 18px 20px;
  display: flex;
  gap: 14px;
  align-items: center;
  flex-wrap: wrap;
}

.footer-left {
  font-size: var(--text-sm);
  opacity: .85;
}

.footer-right {
  margin-left: auto;
}

.footer-link {
  background: none;
  border: none;
  color: inherit;
  font-size: var(--text-sm);
  cursor: pointer;
}

/* ================= MOBILE ================= */
@media (max-width: 640px) {
  #hero-quote {
    font-size: 22px;
  }
}

  </style>
</head>

<body>

<!-- ================= NAV ================= -->
<nav>
  <div id="nav-title">Manjurul</div>

  <div id="nav-controls">
    <input
      id="search"
      placeholder="Search…"
      aria-label="Search quotes"
    >

    <span id="count" aria-live="polite"></span>
  </div>
</nav>

<!-- ================= HERO ================= -->
<section id="hero">
<div id="hero-inner" class="d-flex justify-content-center">  
    <div id="hero-card">
      <div id="hero-label">Quote of the Day</div>

      <div id="hero-quote"></div>

      <div id="hero-meta">
        <button id="hero-category"></button>
          <div style="margin-left:auto"></div>
        <button id="hero-author"></button>
      </div>
    </div>
  </div>
</section>

<!-- ================= PAGE HEADER ================= -->
<header id="page-header">
  <div id="breadcrumbs"></div>
  <h1 id="page-title"></h1>
</header>

<!-- ================= MAIN ================= -->
<main id="list"></main>

<!-- ================= PAGINATION ================= -->
<nav id="pagination"></nav>

<!-- ================= FOOTER ================= -->
<footer id="footer">
  <div id="footer-inner">
    <div class="footer-left">
      <strong>Manjurul.com</strong>
      <span>© <span id="year"></span></span>
    </div>

    <div class="footer-right">
      <button
  class="footer-link"
  onclick="window.scrollTo({ top: 0, behavior: 'smooth' })"
>
  Back to top ↑
</button>
    </div>
  </div>
</footer>

<!-- Bootstrap JS (optional) -->
<script>
"use strict";

/* ================= DATA ================= */
const ITEMS = [
  { text:"The happiness of your life depends upon the quality of your thoughts.", author:"Marcus Aurelius", category:"Wisdom" },
  { text:"Life is like riding a bicycle. To keep your balance you must keep moving.", author:"Albert Einstein", category:"Science" },
  { text:"That brain of mine is something more than merely mortal; as time will show.", author:"Ada Lovelace", category:"Technology" },
  { text:"We can only see a short distance ahead, but we can see plenty there that needs to be done.", author:"Alan Turing", category:"Technology" },
  { text:"It does not matter how slowly you go as long as you do not stop.", author:"Confucius", category:"Philosophy" }
];

const PAGE_SIZE = 3;

/* ================= NORMALIZATION ================= */
function normalizeKey(str) {
  return str
    .toLowerCase()
    .normalize("NFKD")
    .replace(/[\u0300-\u036f]/g, "")
    .replace(/[^a-z0-9]+/g, "-")
    .replace(/^-+|-+$/g, "");
}

/* ================= PERSISTENT STABLE ORDER ================= */
const SEED_KEY = "quotes-order-seed";

let SESSION_SEED = localStorage.getItem(SEED_KEY);
if (!SESSION_SEED) {
  SESSION_SEED = crypto.randomUUID();
  localStorage.setItem(SEED_KEY, SESSION_SEED);
}

function hash(str) {
  let h = 0;
  for (let i = 0; i < str.length; i++) {
    h = (h << 5) - h + str.charCodeAt(i);
    h |= 0;
  }
  return Math.abs(h);
}

const ITEMS_WITH_KEY = ITEMS.map(i => ({
  ...i,
  authorKey: normalizeKey(i.author),
  categoryKey: normalizeKey(i.category),
  _order: hash(SESSION_SEED + i.text + i.author + i.category),
  _textLower: i.text.toLowerCase(),
  _authorLower: i.author.toLowerCase()
}));

/* ================= DOM ================= */
const $ = id => document.getElementById(id);
const dom = {
  list: $("list"),
  pagination: $("pagination"),
  search: $("search"),
  count: $("count"),
  heroQuote: $("hero-quote"),
  heroAuthor: $("hero-author"),
  heroCategory: $("hero-category"),
  breadcrumbs: $("breadcrumbs"),
  title: $("page-title")
};

/* ================= URL STATE ================= */
const readURL = () => {
  const p = new URLSearchParams(location.search);
  return {
    search: p.get("search") || "",
    category: p.get("category") || "",
    author: p.get("author") || "",
    page: Math.max(1, +p.get("page") || 1)
  };
};

const writeURL = s => {
  const p = new URLSearchParams();
  if (s.search) p.set("search", s.search);
  if (s.category) p.set("category", s.category);
  if (s.author) p.set("author", s.author);
  if (s.page > 1) p.set("page", s.page);
  history.replaceState(null, "", p.toString() ? `?${p}` : location.pathname);
};

let state = readURL();

/* ================= HELPERS ================= */
function dailyIndex(seed, max) {
  return seed
    .split("")
    .reduce((sum, c) => sum + c.charCodeAt(0), 0) % max;
}

function labelFromKey(key, type) {
  const item = ITEMS_WITH_KEY.find(i =>
    type === "author" ? i.authorKey === key : i.categoryKey === key
  );
  return item ? (type === "author" ? item.author : item.category) : key;
}

/* ================= HERO ================= */
function renderHero() {
  if (state.author || state.category || state.search) return;

  const today = new Date().toISOString().slice(0, 10);
  const i = dailyIndex(today, ITEMS.length);
  const q = ITEMS[i];

  dom.heroQuote.textContent = q.text;
  dom.heroAuthor.textContent = q.author;
  dom.heroCategory.textContent = q.category;

  dom.heroAuthor.onclick = () =>
    setState({ author: normalizeKey(q.author), page: 1 });

  dom.heroCategory.onclick = () =>
    setState({ category: normalizeKey(q.category), page: 1 });
}

/* ================= FILTER ================= */
function selectFiltered() {
  const t = state.search.toLowerCase();

  return ITEMS_WITH_KEY
    .filter(i =>
      (!state.category || i.categoryKey === state.category) &&
      (!state.author || i.authorKey === state.author) &&
      (!t ||
        i._textLower.includes(t) ||
        i._authorLower.includes(t))
    )
    .sort((a, b) => a._order - b._order);
}

/* ================= HEADER ================= */
function renderHeader() {
  const authorLabel = state.author && labelFromKey(state.author, "author");
  const categoryLabel = state.category && labelFromKey(state.category, "category");

  dom.title.textContent =
    authorLabel && categoryLabel ? `Quotes by ${authorLabel} in ${categoryLabel}` :
    authorLabel ? `Quotes by ${authorLabel}` :
    categoryLabel ? `Quotes about ${categoryLabel}` :
    state.search ? "Search results" :
    "All Quotations";

  dom.breadcrumbs.innerHTML = "";

  const add = (label, fn) => {
    const s = document.createElement("span");
    s.className = "breadcrumb";
    const b = document.createElement("button");
    b.textContent = label;
    b.onclick = fn;
    s.appendChild(b);
    dom.breadcrumbs.appendChild(s);
  };

  add("Home", () => setState({
    search: "",
    category: "",
    author: "",
    page: 1
  }));

  if (state.category)
    add(categoryLabel, () =>
      setState({ category: state.category, author: "", page: 1 })
    );

  if (state.author)
    add(authorLabel, () =>
      setState({ author: state.author, page: 1 })
    );
}

/* ================= LIST ================= */
function renderList(items) {
  dom.list.innerHTML = "";
  const frag = document.createDocumentFragment();

  items.forEach(i => {
    const card = document.createElement("article");
    card.className = "card";

    const quote = document.createElement("blockquote");
    quote.className = "quote";
    quote.textContent = i.text;

    const meta = document.createElement("div");
    meta.className = "meta";

    const categoryBtn = document.createElement("button");
    categoryBtn.className = "category-pill";
    categoryBtn.textContent = i.category;
    categoryBtn.onclick = () =>
      setState({ category: i.categoryKey, author: "", page: 1 });

    const authorBtn = document.createElement("button");
    authorBtn.className = "author-chip";
    authorBtn.textContent = i.author;
    authorBtn.onclick = () =>
      setState({ author: i.authorKey, category: "", page: 1 });

    meta.append(categoryBtn, authorBtn);
    card.append(quote, meta);
    frag.appendChild(card);
  });

  dom.list.appendChild(frag);
}

/* ================= PAGINATION ================= */
function renderPagination(total) {
  dom.pagination.innerHTML = "";

  const totalPages = Math.ceil(total / PAGE_SIZE);
  if (totalPages <= 1) return;

  const frag = document.createDocumentFragment();

  const makeButton = (label, page, disabled = false, current = false) => {
    const b = document.createElement("button");
    b.textContent = label;
    if (current || disabled) {
      b.disabled = true;
    } else {
      b.onclick = () => setState({ page });
    }
    return b;
  };

  const current = state.page;
  const windowSize = 2;

  frag.append(
    makeButton("⏮", 1, current === 1),
    makeButton("‹", current - 1, current === 1),
    makeButton("1", 1, false, current === 1)
  );

  const start = Math.max(2, current - windowSize);
  const end = Math.min(totalPages - 1, current + windowSize);

  if (start > 2) {
    const ellipsis = document.createElement("button");
    ellipsis.textContent = "…";
    ellipsis.onclick = () => setState({ page: Math.max(1, current - 5) });
    frag.appendChild(ellipsis);
  }

  for (let p = start; p <= end; p++) {
    frag.append(makeButton(String(p), p, false, p === current));
  }

  if (end < totalPages - 1) {
    const ellipsis = document.createElement("button");
    ellipsis.textContent = "…";
    ellipsis.onclick = () => setState({ page: Math.min(totalPages, current + 5) });
    frag.appendChild(ellipsis);
  }

  if (totalPages > 1) {
    frag.append(makeButton(String(totalPages), totalPages, false, current === totalPages));
  }

  frag.append(
    makeButton("›", current + 1, current === totalPages),
    makeButton("⏭", totalPages, current === totalPages)
  );

  dom.pagination.appendChild(frag);
}

/* ================= APP ================= */
function renderApp() {
  const filtered = selectFiltered();

  if (!filtered.length) {
    renderHeader();
    dom.list.innerHTML = "<p>No quotes found.</p>";
    dom.pagination.innerHTML = "";
    dom.count.textContent = "0 results";
    document.title = "No results | Quotations";
    writeURL(state);
    return;
  }

  const pages = Math.ceil(filtered.length / PAGE_SIZE);
  if (state.page > pages) state.page = 1;

  renderHeader();
  renderList(filtered.slice(
    (state.page - 1) * PAGE_SIZE,
    state.page * PAGE_SIZE
  ));
  renderPagination(filtered.length);

  dom.count.textContent = `${filtered.length} results`;
  document.title = `${dom.title.textContent} | Quotations`;
  writeURL(state);
}

/* ================= STATE ================= */
function setState(patch) {
  state = { ...state, ...patch };
  dom.search.value = state.search;
  renderHero();
  renderApp();
}

/* ================= INIT ================= */
let searchTimer;
dom.search.oninput = e => {
  clearTimeout(searchTimer);
  searchTimer = setTimeout(() => {
    setState({ search: e.target.value, page: 1 });
  }, 150);
};

window.addEventListener("popstate", () => {
  state = readURL();
  renderHero();
  renderApp();
});

/* ================= TIME OF DAY ================= */
function setTimeOfDayTheme() {
  const hour = new Date().getHours();
  document.body.dataset.time =
    hour >= 5 && hour < 11 ? "morning" :
    hour >= 11 && hour < 17 ? "day" :
    hour >= 17 && hour < 20 ? "evening" :
    "night";
}

/* ================= BOOT ================= */
renderHero();
renderApp();
setTimeOfDayTheme();
document.getElementById("year").textContent = new Date().getFullYear();
</script>
</body>
</html>