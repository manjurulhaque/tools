<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Web Tools — Home</title>

  <style>
    :root{
      --bg:#f6f7fb; --card:#ffffff; --text:#0f1724; --muted:#546174; --accent:#2563eb;
      --glass: rgba(255,255,255,0.6);
      --radius:12px; --shadow: 0 6px 20px rgba(18,28,56,0.08);
      --success: #16a34a;
    }
    [data-theme="dark"]{
      --bg:#0b1220; --card:#071021; --text:#e6eef8; --muted:#9fb0d0; --accent:#3b82f6;
      --glass: rgba(255,255,255,0.03);
      --shadow: 0 6px 20px rgba(2,6,23,0.7);
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:Inter, system-ui; background:var(--bg); padding:32px;
      color:var(--text);
    }

    /* Header */
    header{
      display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:12px;
    }
    .logo{
      width:56px; height:56px; border-radius:12px; background:linear-gradient(135deg,var(--accent), #7c3aed);
      color:#fff; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:20px;
    }

    .controls{display:flex; gap:12px; flex-wrap:wrap;}
    .btn, .select{
      background:var(--card); border-radius:10px; padding:8px 12px; border:0;
      box-shadow:var(--shadow); cursor:pointer; font-size:14px; color:var(--text);
    }
    .search{
      display:flex; align-items:center; gap:8px; background:var(--card);
      padding:8px 12px; border-radius:10px; box-shadow:var(--shadow);
    }
    .search input{
      border:0; outline:0; background:transparent; color:var(--text); width:200px;
    }

    /* Grid */
    .grid{
      display:grid; gap:16px; margin-top:24px;
      grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
    }
    .card{
      background:var(--card); border-radius:12px; padding:16px; box-shadow:var(--shadow);
      display:flex; flex-direction:column; gap:12px;
    }
    .tool-icon{
      width:56px; height:56px; border-radius:10px;
      display:flex; align-items:center; justify-content:center; font-weight:700; color:white;
      background:linear-gradient(135deg,var(--accent), #7c3aed);
    }
    .tags{display:flex; gap:8px;}
    .tag{
      background:var(--glass); padding:6px 10px; border-radius:999px; font-size:12px; color:var(--muted);
    }
    .card-actions{display:flex; gap:8px;}
    .action{
      background:transparent; border:1px solid rgba(0,0,0,0.1); border-radius:8px;
      padding:6px 10px; cursor:pointer; font-size:13px; color:var(--text);
    }
    .favorite.active{color:var(--success); border-color:var(--success);}

    #empty{text-align:center; padding:40px; background:var(--card); border-radius:12px; box-shadow:var(--shadow); margin-top:20px; color:var(--muted)}

    /* Modal */
    .modal-backdrop{
      position:fixed; inset:0; background:rgba(0,0,0,0.45);
      display:none; align-items:center; justify-content:center; z-index:100;
    }
    .modal{
      background:var(--card); border-radius:12px; padding:20px; width:min(700px,92%);
      box-shadow:var(--shadow);
    }

    footer{margin-top:24px; text-align:center; color:var(--muted); font-size:13px;}
  </style>
</head>

<body>

  <header>
    <div style="display:flex; align-items:center; gap:12px;">
      <div class="logo">WT</div>
      <div>
        <h2 style="margin:0;">Web Tools Directory</h2>
        <p style="margin:0; color:var(--muted); font-size:14px;">Browse and launch useful online tools.</p>
      </div>
    </div>

    <div class="controls">
      <div class="search">
        <input id="search" type="search" placeholder="Search tools">
      </div>

      <select id="category" class="select">
        <option value="all">All categories</option>
      </select>

      <select id="sort" class="select">
        <option value="alpha">Sort: A → Z</option>
        <option value="relevance">Sort: Relevance</option>
      </select>

      <button id="favoritesFilter" class="btn">Favorites</button>
      <button id="themeToggle" class="btn">Theme</button>
    </div>
  </header>

  <section id="toolsGrid" class="grid"></section>
  <div id="empty" style="display:none;">No tools found</div>

  <footer>Local demo — favorites and theme stored in browser.</footer>

  <!-- Modal -->
  <div id="modalBackdrop" class="modal-backdrop">
    <div class="modal">
      <div style="display:flex; justify-content:space-between;">
        <h3 id="modalTitle">Tool</h3>
        <button id="modalClose" class="btn">Close</button>
      </div>

      <p id="modalDesc" style="color:var(--muted); margin-top:8px;"></p>

      <p><strong>Category:</strong> <span id="modalCategory"></span></p>
      <p><strong>URL:</strong> <a id="modalUrl" href="#" target="_blank" rel="noopener">Open</a></p>

      <div style="margin-top:16px; display:flex; gap:8px;">
        <button id="openTool" class="action">Open</button>
        <button id="copyLink" class="action">Copy Link</button>
        <button id="modalFav" class="action">Add Favorite</button>
      </div>
    </div>
  </div>

<script>
/* ------------------------------------------------------------------
   DATA — dates removed entirely
------------------------------------------------------------------ */
const TOOLS = [
  { id:'url-shortener', name:'URL Shortener', description:'Create short links with analytics.', category:'Utilities', url:'https://example.com/url-shortener' },
  { id:'color-picker', name:'Color Picker', description:'Pick colors and convert formats.', category:'Design', url:'https://example.com/color-picker' },
  { id:'json-beautify', name:'JSON Beautify', description:'Format and validate JSON.', category:'Developer', url:'https://example.com/json-beautify' },
  { id:'image-compressor', name:'Image Compressor', description:'Compress images for web use.', category:'Media', url:'https://example.com/image-compressor' },
  { id:'regex-tester', name:'Regex Tester', description:'Build and test regular expressions.', category:'Developer', url:'https://example.com/regex-tester' },
  { id:'markdown-preview', name:'Markdown Preview', description:'Live markdown editor.', category:'Writing', url:'https://example.com/markdown-preview' },
  { id:'seo-checker', name:'SEO Checker', description:'Quick SEO audit tool.', category:'Marketing', url:'https://example.com/seo-checker' }
];

/* ------------------------------------------------------------------
   STATE
------------------------------------------------------------------ */
const state = {
  query: '',
  category: 'all',
  sort: 'alpha',
  favoritesOnly: false,
  favorites: new Set(JSON.parse(localStorage.getItem('wt:fav') || '[]')),
  theme: localStorage.getItem('wt:theme') || 'light'
};

/* DOM references */
const grid = document.getElementById('toolsGrid');
const searchInput = document.getElementById('search');
const categorySelect = document.getElementById('category');
const sortSelect = document.getElementById('sort');
const favFilterBtn = document.getElementById('favoritesFilter');
const themeToggle = document.getElementById('themeToggle');
const emptyEl = document.getElementById('empty');

/* Modal references */
const modalBackdrop = document.getElementById('modalBackdrop');
const modalTitle = document.getElementById('modalTitle');
const modalDesc = document.getElementById('modalDesc');
const modalCategory = document.getElementById('modalCategory');
const modalUrl = document.getElementById('modalUrl');
const modalClose = document.getElementById('modalClose');
const modalFav = document.getElementById('modalFav');
const openToolBtn = document.getElementById('openTool');
const copyLinkBtn = document.getElementById('copyLink');

/* ------------------------------------------------------------------
   INIT
------------------------------------------------------------------ */
function init() {
  document.documentElement.setAttribute('data-theme', state.theme);

  const cats = [...new Set(TOOLS.map(t => t.category))].sort();
  cats.forEach(c => {
    const opt = document.createElement('option');
    opt.value = c;
    opt.textContent = c;
    categorySelect.appendChild(opt);
  });

  searchInput.addEventListener('input', () => { state.query = searchInput.value.toLowerCase(); render(); });
  categorySelect.addEventListener('change', () => { state.category = categorySelect.value; render(); });
  sortSelect.addEventListener('change', () => { state.sort = sortSelect.value; render(); });

  favFilterBtn.addEventListener('click', () => {
    state.favoritesOnly = !state.favoritesOnly;
    render();
  });

  themeToggle.addEventListener('click', () => {
    state.theme = state.theme === 'light' ? 'dark' : 'light';
    document.documentElement.setAttribute('data-theme', state.theme);
    localStorage.setItem('wt:theme', state.theme);
  });

  modalClose.addEventListener('click', closeModal);
  modalBackdrop.addEventListener('click', e => { if (e.target === modalBackdrop) closeModal(); });

  openToolBtn.addEventListener('click', () => window.open(modalUrl.href, '_blank'));
  copyLinkBtn.addEventListener('click', () => {
    navigator.clipboard.writeText(modalUrl.href);
    copyLinkBtn.textContent = 'Copied!';
    setTimeout(() => copyLinkBtn.textContent = 'Copy Link', 1500);
  });

  modalFav.addEventListener('click', () => {
    toggleFavorite(modalFav.dataset.id);
    modalFav.textContent = state.favorites.has(modalFav.dataset.id) ? 'Remove Favorite' : 'Add Favorite';
    render();
  });

  render();
}

/* ------------------------------------------------------------------
   RENDER
------------------------------------------------------------------ */
function render() {
  let results = TOOLS.filter(t => {
    if (state.category !== 'all' && t.category !== state.category) return false;
    if (state.favoritesOnly && !state.favorites.has(t.id)) return false;
    if (state.query && !(t.name + t.description).toLowerCase().includes(state.query)) return false;
    return true;
  });

  if (state.sort === 'alpha')
    results.sort((a,b) => a.name.localeCompare(b.name));

  if (state.sort === 'relevance')
    results.sort((a,b) => ((a.name + a.description).toLowerCase().indexOf(state.query) -
                           (b.name + b.description).toLowerCase().indexOf(state.query)));

  grid.innerHTML = '';

  if (results.length === 0) {
    emptyEl.style.display = 'block';
    return;
  }
  emptyEl.style.display = 'none';

  results.forEach(t => {
    const el = document.createElement('div');
    el.className = 'card';

    el.innerHTML = `
      <div style="display:flex; gap:12px;">
        <div class="tool-icon">${initials(t.name)}</div>
        <div>
          <h3 style="margin:0;">${escape(t.name)}</h3>
          <p style="margin:4px 0; color:var(--muted);">${escape(t.description)}</p>
        </div>
      </div>

      <div class="tags">
        <div class="tag">${escape(t.category)}</div>
      </div>

      <div class="card-actions">
        <button class="action open">Open</button>
        <button class="action detail">Details</button>
        <button class="action favorite ${state.favorites.has(t.id) ? 'active' : ''}">★</button>
      </div>
    `;

    el.querySelector('.open').addEventListener('click', () => window.open(t.url, '_blank'));
    el.querySelector('.detail').addEventListener('click', () => openModal(t));
    el.querySelector('.favorite').addEventListener('click', (e) => {
      toggleFavorite(t.id);
      e.target.classList.toggle('active');
    });

    grid.appendChild(el);
  });
}

/* ------------------------------------------------------------------
   FAVORITES
------------------------------------------------------------------ */
function toggleFavorite(id) {
  if (state.favorites.has(id)) state.favorites.delete(id);
  else state.favorites.add(id);
  localStorage.setItem('wt:fav', JSON.stringify([...state.favorites]));
}

/* ------------------------------------------------------------------
   MODAL
------------------------------------------------------------------ */
function openModal(tool) {
  modalTitle.textContent = tool.name;
  modalDesc.textContent = tool.description;
  modalCategory.textContent = tool.category;
  modalUrl.href = tool.url;

  modalFav.dataset.id = tool.id;
  modalFav.textContent = state.favorites.has(tool.id) ? 'Remove Favorite' : 'Add Favorite';

  modalBackdrop.style.display = 'flex';
}

function closeModal() {
  modalBackdrop.style.display = 'none';
}

/* ------------------------------------------------------------------
   HELPERS
------------------------------------------------------------------ */
function initials(name) {
  const p = name.split(' ');
  return (p[0][0] + (p[1]?.[0] || '')).toUpperCase();
}
function escape(s) {
  return s.replace(/[&<>"]/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[c]));
}

init();
</script>

</body>
</html>
