<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Web Tools — Developer Index</title>
  <meta name="description" content="Developer-style index of web tools — quick search, categories, and direct launch." />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Fira+Mono:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #0f1724;
      --panel: #0b1220;
      --muted: #94a3b8;
      --text: #e6eef8;
      --accent: #7c3aed;
      --accent-2: #2563eb;
      --glass: rgba(255,255,255,0.03);
      --radius: 10px;
      --max-width: 1200px;
    }

    * { box-sizing: border-box; }
    html,body { height: 100%; margin: 0; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background: linear-gradient(180deg, var(--bg), #071020 60%); color: var(--text); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

    /* Layout */
    .wrap { max-width: var(--max-width); margin: 28px auto; display: grid; grid-template-columns: 300px 1fr; gap: 28px; padding: 0 20px; align-items: start; }
    @media (max-width:900px) { .wrap { grid-template-columns: 1fr; } }

    /* Sidebar (nav) */
    .sidebar {
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.03);
      padding: 18px; border-radius: var(--radius); position: sticky; top: 20px; height: fit-content;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
    }
    .brand { display: flex; gap:12px; align-items:center; margin-bottom:12px; }
    .logo { width:46px; height:46px; border-radius:8px; display:grid; place-items:center; font-weight:700; font-family: "Fira Mono", monospace; background: linear-gradient(135deg,var(--accent-2),var(--accent)); color: white; box-shadow: 0 8px 20px rgba(37,99,235,0.12); }
    .brand h1 { font-size:16px; margin:0; letter-spacing:-0.2px; }
    .brand p { margin:0; color:var(--muted); font-size:12px; }

    .search { margin-top:14px; display:flex; gap:8px; align-items:center; background:var(--panel); padding:8px; border-radius:8px; border:1px solid rgba(255,255,255,0.02); }
    .search input { background:transparent; border:0; color:var(--text); outline:0; width:100%; font-size:14px; padding:6px 4px; }
    .hint { font-size:12px; color:var(--muted); margin-top:10px; }

    .nav-group { margin-top:18px; }
    .nav-group h3 { margin:0 0 8px 0; font-size:13px; color:var(--muted); text-transform:uppercase; letter-spacing:0.06em; }
    .categories { display:flex; flex-direction:column; gap:8px; }
    .cat-btn { display:flex; justify-content:space-between; align-items:center; padding:8px 10px; border-radius:8px; background: transparent; border:1px solid rgba(255,255,255,0.02); color:var(--text); cursor:pointer; font-size:14px; text-align:left; }
    .cat-btn[aria-pressed="true"]{ background: linear-gradient(90deg, rgba(124,58,237,0.14), rgba(37,99,235,0.06)); border-color: rgba(124,58,237,0.22); box-shadow: 0 8px 20px rgba(37,99,235,0.06); }
    .clear-btn{ margin-top:12px; display:block; width:100%; padding:8px; border-radius:8px; border:0; background:transparent; color:var(--muted); font-size:13px; cursor:pointer; text-align:left; }

    /* Content area */
    .content {
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
      padding:18px; border-radius:var(--radius); border:1px solid rgba(255,255,255,0.03);
      box-shadow: 0 12px 40px rgba(2,6,23,0.6);
    }
    .header-row { display:flex; align-items:baseline; justify-content:space-between; gap:12px; margin-bottom:14px; flex-wrap:wrap; }
    .content h2 { margin:0; font-family: "Fira Mono", monospace; font-weight:700; font-size:20px; }
    .subtitle { color:var(--muted); font-size:13px; margin-top:6px; }

    /* Index list */
    .index { margin-top:12px; display:flex; flex-direction:column; gap:12px; }
    .category-section { border-left: 2px solid rgba(255,255,255,0.02); padding-left:12px; }
    .category-title { font-size:13px; color:var(--muted); margin:0 0 8px 0; text-transform:uppercase; letter-spacing:0.06em; }

    .tool-row {
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:10px 12px; border-radius:8px; transition: background .12s ease, transform .12s ease; cursor:pointer;
      background: transparent; border:1px solid rgba(255,255,255,0.01);
    }
    .tool-row:focus, .tool-row:hover { background: linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005)); transform: translateY(-2px); outline: none; }
    .tool-meta { display:flex; gap:12px; align-items:center; min-width:0; }
    .tool-flag { width:44px; height:44px; border-radius:8px; display:grid; place-items:center; font-weight:700; font-family:"Fira Mono", monospace; color:white; background: linear-gradient(135deg,var(--accent-2),var(--accent)); flex-shrink:0; }
    .tool-info { min-width:0; }
    .tool-name { font-family: "Fira Mono", monospace; font-weight:700; margin:0; font-size:15px; color:var(--text); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .tool-desc { margin:4px 0 0 0; color:var(--muted); font-size:13px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

    .tool-actions { display:flex; gap:10px; align-items:center; flex-shrink:0; }
    .open-link {
      display:inline-flex; align-items:center; gap:8px; padding:8px 10px; border-radius:8px; font-weight:600; color:var(--text);
      background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.02); text-decoration:none;
      font-size:13px;
    }
    .open-link svg { height:14px; width:14px; opacity:0.9; }

    /* small utilities */
    .muted { color:var(--muted); }
    footer { margin-top:18px; color:var(--muted); font-size:13px; text-align:center; }

    /* keyboard focus outline improved */
    [tabindex]:focus { box-shadow: 0 0 0 3px rgba(124,58,237,0.12); border-radius:6px; }
  </style>
</head>
<body>
  <div class="wrap" role="application" aria-label="Web Tools developer index">

    <!-- SIDEBAR -->
    <aside class="sidebar" aria-labelledby="sidebar-title">
      <div class="brand">
        <div class="logo" aria-hidden="true">WT</div>
        <div>
          <h1 style="margin:0; font-size:15px;">Web Tools</h1>
          <p style="margin:0; font-size:12px;" class="muted">Developer index · quick launch</p>
        </div>
      </div>

      <div class="search" role="search" aria-label="Search tools">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="opacity:0.9"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <input id="search" type="search" placeholder="Search ( / )" aria-label="Search tools" />
      </div>
      <div class="hint">Press <code>/</code> to focus search</div>

      <div class="nav-group" aria-label="Categories">
        <h3 id="sidebar-title">Categories</h3>
        <div class="categories" id="categoriesList">
          <!-- category buttons injected -->
        </div>
        <button id="clearCategory" class="clear-btn">Show all</button>
      </div>
    </aside>

    <!-- CONTENT -->
    <main class="content" id="mainContent">
      <div class="header-row">
        <div>
          <h2>Tools index</h2>
          <div class="subtitle">A compact, developer-style index — click a row or press Enter to open the tool.</div>
        </div>
        <div class="muted" id="resultCount" aria-live="polite">—</div>
      </div>

      <nav class="index" id="indexList" aria-label="Tools list">
        <!-- categories + tools injected here -->
      </nav>

      <footer>
        © <span id="year"></span> Web Tools — Developer index
      </footer>
    </main>
  </div>

  <script>
    // ---------- Data (no dates) ----------
    const TOOLS = [
      { id:'url-shortener', name:'url-shortener', title:'URL Shortener', description:'Create short links with analytics', category:'Utilities', url:'https://example.com/url-shortener' },
      { id:'color-picker', name:'color-picker', title:'Color Picker', description:'Pick and convert colors (HEX, RGB, HSL)', category:'Design', url:'https://example.com/color-picker' },
      { id:'json-beautify', name:'json-beautify', title:'JSON Beautify', description:'Format and validate JSON', category:'Developer', url:'https://example.com/json-beautify' },
      { id:'image-compressor', name:'image-compressor', title:'Image Compressor', description:'Compress images for web', category:'Media', url:'https://example.com/image-compressor' },
      { id:'regex-tester', name:'regex-tester', title:'Regex Tester', description:'Build and test regular expressions', category:'Developer', url:'https://example.com/regex-tester' },
      { id:'json-to-csv', name:'json-to-csv', title:'JSON → CSV', description:'Convert JSON to CSV', category:'Developer', url:'https://example.com/json-to-csv' },
      { id:'markdown-preview', name:'markdown-preview', title:'Markdown Preview', description:'Live markdown editor with export', category:'Writing', url:'https://example.com/markdown-preview' },
      { id:'seo-checker', name:'seo-checker', title:'SEO Checker', description:'Quick SEO audit tool', category:'Marketing', url:'https://example.com/seo-checker' }
    ];

    // ---------- State ----------
    const state = { query: '', category: 'all', focusIndex: -1, items: [] };

    // ---------- DOM refs ----------
    const searchInput = document.getElementById('search');
    const categoriesList = document.getElementById('categoriesList');
    const indexList = document.getElementById('indexList');
    const resultCount = document.getElementById('resultCount');
    const clearCategoryBtn = document.getElementById('clearCategory');
    const yearEl = document.getElementById('year');
    yearEl.textContent = new Date().getFullYear();

    // ---------- Init ----------
    function init() {
      const cats = Array.from(new Set(TOOLS.map(t => t.category))).sort();
      // render categories
      cats.forEach(cat => {
        const btn = document.createElement('button');
        btn.className = 'cat-btn';
        btn.type = 'button';
        btn.textContent = cat;
        btn.setAttribute('aria-pressed', 'false');
        btn.addEventListener('click', () => {
          const pressed = btn.getAttribute('aria-pressed') === 'true';
          // toggle: if already pressed, clear; otherwise set this
          if (pressed) {
            state.category = 'all';
            Array.from(categoriesList.children).forEach(c => c.setAttribute('aria-pressed','false'));
          } else {
            state.category = cat;
            Array.from(categoriesList.children).forEach(c => c.setAttribute('aria-pressed', c === btn ? 'true' : 'false'));
          }
          state.focusIndex = -1;
          renderIndex();
          searchInput.focus();
        });
        categoriesList.appendChild(btn);
      });

      clearCategoryBtn.addEventListener('click', () => {
        state.category = 'all';
        Array.from(categoriesList.children).forEach(c => c.setAttribute('aria-pressed','false'));
        state.focusIndex = -1;
        renderIndex();
      });

      // search
      searchInput.addEventListener('input', (e) => {
        state.query = e.target.value.trim().toLowerCase();
        state.focusIndex = -1;
        renderIndex();
      });

      // keyboard shortcuts
      window.addEventListener('keydown', (e) => {
        if (e.key === '/') { e.preventDefault(); searchInput.focus(); }
        // navigate list when focus not in an input
        const active = document.activeElement;
        if (['ArrowDown','ArrowUp','Enter'].includes(e.key) && active !== searchInput) {
          e.preventDefault();
          handleListKey(e.key);
        }
      });

      // initial render
      renderIndex();
    }

    // ---------- Render index grouped by category ----------
    function renderIndex() {
      // filter
      let results = TOOLS.filter(t => {
        if (state.category !== 'all' && t.category !== state.category) return false;
        if (state.query) {
          const hay = (t.name + ' ' + t.title + ' ' + t.description + ' ' + t.category).toLowerCase();
          if (!hay.includes(state.query)) return false;
        }
        return true;
      });

      // sort: category then name
      results.sort((a,b) => {
        if (a.category !== b.category) return a.category.localeCompare(b.category);
        return a.title.localeCompare(b.title);
      });

      // group by category
      const groups = results.reduce((acc, it) => {
        (acc[it.category] = acc[it.category] || []).push(it);
        return acc;
      }, {});

      // build DOM
      indexList.innerHTML = '';
      state.items = []; // flattened list of rendered items for keyboard navigation

      Object.keys(groups).forEach(cat => {
        const section = document.createElement('section');
        section.className = 'category-section';
        const heading = document.createElement('h4');
        heading.className = 'category-title';
        heading.textContent = cat;
        section.appendChild(heading);

        groups[cat].forEach(tool => {
          const row = document.createElement('div');
          row.className = 'tool-row';
          row.tabIndex = 0;
          row.setAttribute('role', 'link');
          row.setAttribute('data-url', tool.url);
          row.setAttribute('aria-label', `Open ${tool.title}`);

          row.innerHTML = `
            <div class="tool-meta">
              <div class="tool-flag" aria-hidden="true">${shortFlag(tool.title)}</div>
              <div class="tool-info">
                <div class="tool-name">${escapeHTML(tool.title)}</div>
                <div class="tool-desc">${escapeHTML(tool.description)}</div>
              </div>
            </div>
            <div class="tool-actions">
              <a class="open-link" href="${escapeAttr(tool.url)}" target="_blank" rel="noopener noreferrer">Open
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path d="M14 3h7v7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><path d="M10 14L21 3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><path d="M21 21H3V3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </a>
            </div>
          `;

          // click opens tool
          row.addEventListener('click', (ev) => {
            // if user clicked the open link itself, allow default anchor behavior
            const a = ev.target.closest('a.open-link');
            if (a) return;
            const url = row.getAttribute('data-url');
            window.open(url, '_blank', 'noopener');
          });

          // keyboard Enter opens
          row.addEventListener('keydown', (ev) => {
            if (ev.key === 'Enter') {
              ev.preventDefault();
              const url = row.getAttribute('data-url');
              window.open(url, '_blank', 'noopener');
            }
          });

          section.appendChild(row);
          state.items.push(row);
        });

        indexList.appendChild(section);
      });

      // update result count
      resultCount.textContent = `${results.length} result${results.length === 1 ? '' : 's'}`;

      // reset focus index if out of bounds
      if (state.focusIndex >= state.items.length) state.focusIndex = -1;
    }

    // ---------- Keyboard navigation within list ----------
    function handleListKey(key) {
      if (state.items.length === 0) return;
      if (key === 'ArrowDown') {
        // move focus down
        state.focusIndex = (state.focusIndex + 1) % state.items.length;
        state.items[state.focusIndex].focus();
      } else if (key === 'ArrowUp') {
        state.focusIndex = (state.focusIndex - 1 + state.items.length) % state.items.length;
        state.items[state.focusIndex].focus();
      } else if (key === 'Enter') {
        if (state.focusIndex >= 0 && state.focusIndex < state.items.length) {
          const url = state.items[state.focusIndex].getAttribute('data-url');
          window.open(url, '_blank', 'noopener');
        }
      }
    }

    // ---------- Helpers ----------
    function shortFlag(title) {
      // return up to 2 uppercase alphanumeric chars for the flag
      const parts = title.split(/[\s-_.]+/).filter(Boolean);
      if (parts.length === 0) return title.slice(0,2).toUpperCase();
      if (parts.length === 1) return parts[0].slice(0,2).toUpperCase();
      return (parts[0][0] + (parts[1][0] || '')).toUpperCase();
    }
    function escapeHTML(s) {
      return String(s).replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"}[c]));
    }
    function escapeAttr(s) {
      return String(s).replace(/"/g, '&quot;');
    }

    // ---------- Boot ----------
    init();
  </script>
</body>
</html>
