<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JSON Converter with Syntax Highlighting</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Prism.js CSS (for syntax highlighting) -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <style>
        pre code { 
            display: block;
            padding: 1em;
            background: #f5f2f0;
            border-radius: 0.3em;
            max-height: 300px;
            overflow: auto;
        }
    </style>
</head>
<body class="bg-light">

<div class="container py-5">
    <h1 class="mb-4">ðŸ§° JSON Converter</h1>

    <!-- Convert Object to JSON -->
    <div class="card mb-4">
        <div class="card-header">Convert JavaScript Object to JSON</div>
        <div class="card-body">
            <button class="btn btn-primary mb-2" onclick="convertObjectToJSON()">Convert Sample Object</button>
            <pre><code id="jsonOutput" class="language-json">// JSON will appear here...</code></pre>
        </div>
    </div>

    <!-- Parse JSON to Object -->
    <div class="card mb-4">
        <div class="card-header">Convert JSON String to JavaScript Object</div>
        <div class="card-body">
            <textarea class="form-control mb-2" id="jsonInput" rows="6" placeholder="Paste JSON here..."></textarea>
            <button class="btn btn-success" onclick="convertJSONToObject()">Parse JSON</button>
            <pre><code id="objectOutput" class="language-json">// Parsed object will appear here...</code></pre>
        </div>
    </div>

    <!-- File Upload -->
    <div class="card mb-4">
        <div class="card-header">Upload JSON File</div>
        <div class="card-body">
            <input class="form-control" type="file" accept=".json" onchange="handleFileUpload(event)" />
            <pre><code id="fileContent" class="language-json">// File content will appear here...</code></pre>
        </div>
    </div>

    <!-- Download JSON -->
    <div class="card mb-4">
        <div class="card-header">Download Sample JSON</div>
        <div class="card-body">
            <button class="btn btn-warning" onclick="downloadJSON()">Download</button>
        </div>
    </div>
</div>

<!-- Bootstrap JS (optional) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<!-- Prism.js (core + JSON language) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>

<script>
    const sampleObject = {
        name: "Manjurul Haque",
        age: 30,
        languages: ["JavaScript", "Python"],
        isDeveloper: true
    };

    function convertObjectToJSON() {
        const jsonString = JSON.stringify(sampleObject, null, 4);
        const el = document.getElementById("jsonOutput");
        el.textContent = jsonString;
        Prism.highlightElement(el);
    }

    function convertJSONToObject() {
        const jsonInput = document.getElementById("jsonInput").value;
        const el = document.getElementById("objectOutput");
        try {
            const obj = JSON.parse(jsonInput);
            el.textContent = JSON.stringify(obj, null, 4);
        } catch (e) {
            el.textContent = "Invalid JSON: " + e.message;
        }
        Prism.highlightElement(el);
    }

    function handleFileUpload(event) {
        const file = event.target.files[0];
        const el = document.getElementById("fileContent");
        if (!file) {
            el.textContent = "";
            Prism.highlightElement(el);
            return;
        }
        const reader = new FileReader();
        reader.onload = function(e) {
            try {
                const jsonData = JSON.parse(e.target.result);
                el.textContent = JSON.stringify(jsonData, null, 4);
            } catch (error) {
                el.textContent = "Error parsing JSON: " + error.message;
            }
            Prism.highlightElement(el);
        };
        reader.readAsText(file);
    }

    function downloadJSON() {
        const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(sampleObject, null, 4));
        const downloadAnchorNode = document.createElement('a');
        downloadAnchorNode.setAttribute("href", dataStr);
        downloadAnchorNode.setAttribute("download", "sample_data.json");
        document.body.appendChild(downloadAnchorNode);
        downloadAnchorNode.click();
        downloadAnchorNode.remove();
    }
</script>

</body>
</html>
