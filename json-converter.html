<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JSON Converter with Multi-Language Highlighting</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Prism.js CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <style>
        pre code {
            display: block;
            padding: 1em;
            background: #f5f2f0;
            border-radius: 0.3em;
            max-height: 300px;
            overflow: auto;
        }
    </style>
</head>
<body class="bg-light">

<div class="container py-5">
    <h1 class="mb-4">ðŸ§° JSON Converter with Language Switching</h1>

    <div class="mb-3">
        <label for="languageSelect" class="form-label">Choose Output Language:</label>
        <select class="form-select w-auto" id="languageSelect" onchange="updateHighlightedCode()">
            <option value="json">JSON</option>
            <option value="javascript">JavaScript</option>
            <option value="python">Python</option>
            <option value="yaml">YAML</option>
            <option value="sql">SQL</option>
        </select>
    </div>

    <div class="card mb-4">
        <div class="card-header">Sample Object Highlighted</div>
        <div class="card-body">
            <button class="btn btn-primary mb-3" onclick="renderSample()">Render Sample</button>
            <pre><code id="highlightOutput" class="language-json">// Output will appear here...</code></pre>
        </div>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<!-- Prism Core -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<!-- Prism Autoloader Plugin -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

<script>
    const sampleObject = {
        name: "Manjurul Haque",
        age: 30,
        skills: ["JavaScript", "Python"],
        isDeveloper: true
    };

    function renderSample() {
        const selectedLang = document.getElementById('languageSelect').value;
        const el = document.getElementById('highlightOutput');

        let formatted = '';
        switch (selectedLang) {
            case 'json':
                formatted = JSON.stringify(sampleObject, null, 4);
                break;
            case 'javascript':
                formatted = `const data = ${JSON.stringify(sampleObject, null, 4)};`;
                break;
            case 'python':
                formatted = `data = {\n` +
                    Object.entries(sampleObject).map(([key, value]) => {
                        const pyValue = typeof value === 'string'
                            ? `'${value}'`
                            : Array.isArray(value)
                                ? `[${value.map(v => `'${v}'`).join(', ')}]`
                                : value;
                        return `    '${key}': ${pyValue}`;
                    }).join(',\n') + `\n}`;
                break;
            case 'yaml':
                formatted =
                    `name: ${sampleObject.name}\n` +
                    `age: ${sampleObject.age}\n` +
                    `skills:\n  - ${sampleObject.skills.join('\n  - ')}\n` +
                    `isDeveloper: ${sampleObject.isDeveloper}`;
                break;
            case 'sql':
                formatted = `INSERT INTO users (name, age, skills, isDeveloper)\nVALUES (\n` +
                    `  '${sampleObject.name}',\n` +
                    `  ${sampleObject.age},\n` +
                    `  '${sampleObject.skills.join(', ')}',\n` +
                    `  ${sampleObject.isDeveloper ? 1 : 0}\n);`;
                break;
            default:
                formatted = "// Unsupported format";
        }

        // Update output element
        el.textContent = formatted;
        el.className = `language-${selectedLang}`;
        Prism.highlightElement(el);
    }

    function updateHighlightedCode() {
        renderSample(); // Re-render when language changes
    }
</script>

</body>
</html>
