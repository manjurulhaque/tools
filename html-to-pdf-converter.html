<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Advanced HTML to PDF Converter</title>
		<!-- Bootstrap CSS -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<!-- html2pdf.js -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
	</head>
	<body
		class="bg-light d-flex align-items-center justify-content-center vh-100"
	>
		<div class="container bg-white p-4 rounded shadow" style="max-width: 700px">
			<h2 class="text-center mb-4">HTML to PDF Converter</h2>

			<div class="mb-3">
				<label for="htmlContent" class="form-label">HTML Content</label>
				<textarea
					class="form-control"
					id="htmlContent"
					rows="6"
					placeholder="Enter your HTML here..."
				></textarea>
			</div>

			<div class="row mb-3">
				<div class="col-md-6">
					<label for="fileName" class="form-label">File Name</label>
					<input
						type="text"
						class="form-control"
						id="fileName"
						placeholder="Enter file name"
					/>
				</div>
				<div class="col-md-6">
					<label for="format" class="form-label">Page Format</label>
					<select class="form-select" id="format">
						<option value="a4" selected>A4</option>
						<option value="letter">Letter</option>
						<option value="legal">Legal</option>
					</select>
				</div>
			</div>

			<div class="d-grid mb-3">
				<button class="btn btn-primary" onclick="convertToPDF()">
					Download PDF
				</button>
			</div>

			<div>
				<label class="form-label">Live Preview</label>
				<div
					id="preview"
					class="p-3 border rounded bg-light"
					style="min-height: 100px"
				>
					Preview will appear here...
				</div>
			</div>
		</div>

		<!-- JavaScript -->
		<script>
			function convertToPDF() {
				const htmlContent = document.getElementById("htmlContent").value;
				const fileName =
					document.getElementById("fileName").value || "document";
				const format = document.getElementById("format").value;

				const element = document.createElement("div");
				element.innerHTML = htmlContent;

				const opt = {
					margin: 0.5,
					filename: `${fileName}.pdf`,
					image: { type: "jpeg", quality: 0.98 },
					html2canvas: { scale: 2 },
					jsPDF: { unit: "in", format: format, orientation: "portrait" },
				};

				html2pdf().set(opt).from(element).save();
			}

			document
				.getElementById("htmlContent")
				.addEventListener("input", function () {
					document.getElementById("preview").innerHTML =
						this.value || "Preview will appear here...";
				});
		</script>
	</body>
</html>
